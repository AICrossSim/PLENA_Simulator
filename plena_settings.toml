# PLENA Simulator Configuration
# Set active_mode to "analytic" or "behavior" to select which configuration to use

[MODE]
active = "analytic"  # Options: "analytic" or "behavior"

# ============================================================================
# ANALYTIC MODEL CONFIGURATION
# ============================================================================

[ANALYTIC.CONFIG.DC_EN]
value = 1

[ANALYTIC.CONFIG.MAX_LOOP_INSTRUCTIONS]
value = 10000

[ANALYTIC.CONFIG.BLEN]
value = 32

[ANALYTIC.CONFIG.HLEN]
value = 128

[ANALYTIC.CONFIG.MLEN]
value = 512

[ANALYTIC.CONFIG.VLEN]
value = 512

[ANALYTIC.CONFIG.BROADCAST_AMOUNT]
value = 4

[ANALYTIC.CONFIG.HBM_SIZE]
value = 1073741824

[ANALYTIC.CONFIG.HBM_WIDTH]
value = 512

[ANALYTIC.CONFIG.MATRIX_SRAM_SIZE]
value = 256

[ANALYTIC.CONFIG.VECTOR_SRAM_SIZE]
value = 1024

[ANALYTIC.CONFIG.HBM_M_Prefetch_Amount]
value = 64

[ANALYTIC.CONFIG.HBM_V_Prefetch_Amount]
value = 4

[ANALYTIC.CONFIG.HBM_V_Writeback_Amount]
value = 4

[ANALYTIC.PRECISION.MATRIX_SRAM_TYPE]
format = "Plain"
[ANALYTIC.PRECISION.MATRIX_SRAM_TYPE.DATA_TYPE]
type = "Fp"
sign = true
exponent = 8
mantissa = 7

[ANALYTIC.PRECISION.VECTOR_SRAM_TYPE]
format = "Plain"
[ANALYTIC.PRECISION.VECTOR_SRAM_TYPE.DATA_TYPE]
type = "Fp"
sign = true
exponent = 8
mantissa = 7

[ANALYTIC.PRECISION.HBM_M_WEIGHT_TYPE]
format = "Mx"
block = 8
[ANALYTIC.PRECISION.HBM_M_WEIGHT_TYPE.ELEM]
type = "Fp"
sign = true
exponent = 4
mantissa = 3
[ANALYTIC.PRECISION.HBM_M_WEIGHT_TYPE.SCALE]
type = "Fp"
sign = false
exponent = 8
mantissa = 0

[ANALYTIC.PRECISION.HBM_M_KV_TYPE]
format = "Mx"
block = 8
[ANALYTIC.PRECISION.HBM_M_KV_TYPE.ELEM]
type = "Fp"
sign = true
exponent = 4
mantissa = 3
[ANALYTIC.PRECISION.HBM_M_KV_TYPE.SCALE]
type = "Fp"
sign = false
exponent = 8
mantissa = 0

[ANALYTIC.PRECISION.HBM_V_ACT_TYPE]
format = "Mx"
block = 8
[ANALYTIC.PRECISION.HBM_V_ACT_TYPE.ELEM]
type = "Fp"
sign = true
exponent = 4
mantissa = 3
[ANALYTIC.PRECISION.HBM_V_ACT_TYPE.SCALE]
type = "Fp"
sign = false
exponent = 8
mantissa = 0

[ANALYTIC.PRECISION.HBM_V_KV_TYPE]
format = "Mx"
block = 8
[ANALYTIC.PRECISION.HBM_V_KV_TYPE.ELEM]
type = "Fp"
sign = true
exponent = 4
mantissa = 3
[ANALYTIC.PRECISION.HBM_V_KV_TYPE.SCALE]
type = "Fp"
sign = false
exponent = 8
mantissa = 0

[ANALYTIC.PRECISION.HBM_V_INT_TYPE]
format = "Plain"
[ANALYTIC.PRECISION.HBM_V_INT_TYPE.DATA_TYPE]
type = "Int"
width = 32

[ANALYTIC.PRECISION.SCALAR_FP]
type = "Fp"
sign = true
exponent = 8
mantissa = 7

[ANALYTIC.LATENCY.SYSTOLIC_PROCESSING_OVERHEAD]
dc_lib_en = 0
dc_lib_dis = 0

[ANALYTIC.LATENCY.VECTOR_LONGEST_OPERATE_CYCLES]
dc_lib_en = 10
dc_lib_dis = 20

[ANALYTIC.LATENCY.VECTOR_BASIC_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[ANALYTIC.LATENCY.VECTOR_ADD_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[ANALYTIC.LATENCY.VECTOR_MUL_CYCLES]
dc_lib_en = 1
dc_lib_dis = 5

[ANALYTIC.LATENCY.VECTOR_EXP_CYCLES]
dc_lib_en = 1
dc_lib_dis = 6

[ANALYTIC.LATENCY.VECTOR_PREFIX_SCAN_CYCLES]
dc_lib_en = 9
dc_lib_dis = 9

[ANALYTIC.LATENCY.VECTOR_SHIFT_CYCLES]
dc_lib_en = 1
dc_lib_dis = 1

[ANALYTIC.LATENCY.VECTOR_RECI_CYCLES]
dc_lib_en = 2
dc_lib_dis = 7

[ANALYTIC.LATENCY.VECTOR_MAX_CYCLES]
dc_lib_en = 4
dc_lib_dis = 4

[ANALYTIC.LATENCY.VECTOR_SUM_CYCLES]
dc_lib_en = 8
dc_lib_dis = 20

[ANALYTIC.LATENCY.SCALAR_FP_LONGEST_OPERATE_CYCLES]
dc_lib_en = 4
dc_lib_dis = 4

[ANALYTIC.LATENCY.SCALAR_FP_BASIC_CYCLES]
dc_lib_en = 1
dc_lib_dis = 1

[ANALYTIC.LATENCY.SCALAR_FP_EXP_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[ANALYTIC.LATENCY.SCALAR_FP_SQRT_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[ANALYTIC.LATENCY.SCALAR_FP_RECI_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[ANALYTIC.LATENCY.SCALAR_INT_BASIC_CYCLES]
dc_lib_en = 1
dc_lib_dis = 1

# ============================================================================
# BEHAVIOR SIMULATOR CONFIGURATION
# ============================================================================

[BEHAVIOR.CONFIG.DC_EN]
value = 1

[BEHAVIOR.CONFIG.MAX_LOOP_INSTRUCTIONS]
value = 10000

[BEHAVIOR.CONFIG.BLEN]
value = 4

[BEHAVIOR.CONFIG.HLEN]
value = 16

[BEHAVIOR.CONFIG.MLEN]
value = 64

[BEHAVIOR.CONFIG.VLEN]
value = 64

[BEHAVIOR.CONFIG.BROADCAST_AMOUNT]
value = 4

[BEHAVIOR.CONFIG.HBM_SIZE]
value = 1073741824

[BEHAVIOR.CONFIG.HBM_WIDTH]
value = 512

[BEHAVIOR.CONFIG.MATRIX_SRAM_SIZE]
value = 256

[BEHAVIOR.CONFIG.VECTOR_SRAM_SIZE]
value = 1024

[BEHAVIOR.CONFIG.HBM_M_Prefetch_Amount]
value = 64

[BEHAVIOR.CONFIG.HBM_V_Prefetch_Amount]
value = 4

[BEHAVIOR.CONFIG.HBM_V_Writeback_Amount]
value = 4

[BEHAVIOR.PRECISION.MATRIX_SRAM_TYPE]
format = "Plain"
[BEHAVIOR.PRECISION.MATRIX_SRAM_TYPE.DATA_TYPE]
type = "Fp"
sign = true
exponent = 8
mantissa = 7

[BEHAVIOR.PRECISION.VECTOR_SRAM_TYPE]
format = "Plain"
[BEHAVIOR.PRECISION.VECTOR_SRAM_TYPE.DATA_TYPE]
type = "Fp"
sign = true
exponent = 8
mantissa = 7

[BEHAVIOR.PRECISION.HBM_M_WEIGHT_TYPE]
format = "Mx"
block = 8
[BEHAVIOR.PRECISION.HBM_M_WEIGHT_TYPE.ELEM]
type = "Fp"
sign = true
exponent = 4
mantissa = 3
[BEHAVIOR.PRECISION.HBM_M_WEIGHT_TYPE.SCALE]
type = "Fp"
sign = false
exponent = 8
mantissa = 0

[BEHAVIOR.PRECISION.HBM_M_KV_TYPE]
format = "Mx"
block = 8
[BEHAVIOR.PRECISION.HBM_M_KV_TYPE.ELEM]
type = "Fp"
sign = true
exponent = 4
mantissa = 3
[BEHAVIOR.PRECISION.HBM_M_KV_TYPE.SCALE]
type = "Fp"
sign = false
exponent = 8
mantissa = 0

[BEHAVIOR.PRECISION.HBM_V_ACT_TYPE]
format = "Mx"
block = 8
[BEHAVIOR.PRECISION.HBM_V_ACT_TYPE.ELEM]
type = "Fp"
sign = true
exponent = 4
mantissa = 3
[BEHAVIOR.PRECISION.HBM_V_ACT_TYPE.SCALE]
type = "Fp"
sign = false
exponent = 8
mantissa = 0

[BEHAVIOR.PRECISION.HBM_V_KV_TYPE]
format = "Mx"
block = 8
[BEHAVIOR.PRECISION.HBM_V_KV_TYPE.ELEM]
type = "Fp"
sign = true
exponent = 4
mantissa = 3
[BEHAVIOR.PRECISION.HBM_V_KV_TYPE.SCALE]
type = "Fp"
sign = false
exponent = 8
mantissa = 0

[BEHAVIOR.PRECISION.HBM_V_INT_TYPE]
format = "Plain"
[BEHAVIOR.PRECISION.HBM_V_INT_TYPE.DATA_TYPE]
type = "Int"
width = 32

[BEHAVIOR.PRECISION.SCALAR_FP]
type = "Fp"
sign = true
exponent = 8
mantissa = 7

[BEHAVIOR.LATENCY.SYSTOLIC_PROCESSING_OVERHEAD]
dc_lib_en = 0
dc_lib_dis = 0

[BEHAVIOR.LATENCY.VECTOR_LONGEST_OPERATE_CYCLES]
dc_lib_en = 10
dc_lib_dis = 20

[BEHAVIOR.LATENCY.VECTOR_BASIC_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[BEHAVIOR.LATENCY.VECTOR_ADD_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[BEHAVIOR.LATENCY.VECTOR_MUL_CYCLES]
dc_lib_en = 1
dc_lib_dis = 5

[BEHAVIOR.LATENCY.VECTOR_EXP_CYCLES]
dc_lib_en = 1
dc_lib_dis = 6

[BEHAVIOR.LATENCY.VECTOR_PREFIX_SCAN_CYCLES]
dc_lib_en = 9
dc_lib_dis = 9

[BEHAVIOR.LATENCY.VECTOR_SHIFT_CYCLES]
dc_lib_en = 1
dc_lib_dis = 1

[BEHAVIOR.LATENCY.VECTOR_RECI_CYCLES]
dc_lib_en = 2
dc_lib_dis = 7

[BEHAVIOR.LATENCY.VECTOR_MAX_CYCLES]
dc_lib_en = 4
dc_lib_dis = 4

[BEHAVIOR.LATENCY.VECTOR_SUM_CYCLES]
dc_lib_en = 8
dc_lib_dis = 20

[BEHAVIOR.LATENCY.SCALAR_FP_LONGEST_OPERATE_CYCLES]
dc_lib_en = 4
dc_lib_dis = 4

[BEHAVIOR.LATENCY.SCALAR_FP_BASIC_CYCLES]
dc_lib_en = 1
dc_lib_dis = 1

[BEHAVIOR.LATENCY.SCALAR_FP_EXP_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[BEHAVIOR.LATENCY.SCALAR_FP_SQRT_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[BEHAVIOR.LATENCY.SCALAR_FP_RECI_CYCLES]
dc_lib_en = 1
dc_lib_dis = 2

[BEHAVIOR.LATENCY.SCALAR_INT_BASIC_CYCLES]
dc_lib_en = 1
dc_lib_dis = 1
